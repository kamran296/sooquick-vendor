import{c as y,u as w,d as P,a as C,C as m,j as e,D as k,E as F,F as E}from"./index-C0z03gmD.js";import{V as c,W as h,X as g,Y as R,Z as M,_ as A,c as z,k as V,B as D,C as I}from"./index-P_J9Ghsn.js";import{G as T}from"./iconBase-BzeCDY1Z.js";import{U as _}from"./UserLayout-CWZxByX2.js";import{f as $}from"./helpers-DDDbmMMy.js";import"./index-U9NFX_ea.js";import"./App-CTdmVYgP.js";function j(t){return T({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"circle",attr:{cx:"8",cy:"8",r:"8"},child:[]}]})(t)}const Y=()=>{const t=y(),u=w(),{notifications:x,unreadCount:n,pagination:s,status:p}=P(a=>a.notifications);C.useEffect(()=>{t(m({page:s.page,limit:s.limit}))},[t,s.page,s.limit]);const i=a=>{t(E(a))},b=a=>{t(F(a))},N=()=>{t(k())},v=(a,o)=>{switch(o){case"success":return e.jsx(V,{className:"text-green-500"});case"WITHDRAWAL":return e.jsx(z,{className:"text-yellow-500"});case"info":return e.jsx(h,{className:"text-blue-500"});case"user":return e.jsx(A,{className:"text-purple-500"});case"KYC_REJECTED":case"SERVICE_REJECTED":return e.jsx(M,{className:"text-red-500"});case"message":return e.jsx(R,{className:"text-teal-500"});case"settings":return e.jsx(g,{className:"text-gray-500"});default:return e.jsx(c,{className:`text-${a==="success"?"green":a==="warning"?"yellow":"teal"}-800`})}},f=()=>{const a=[];let l=Math.max(1,s.page-Math.floor(2.5)),d=Math.min(s.totalPages,l+5-1);d-l+1<5&&(l=Math.max(1,d-5+1));for(let r=l;r<=d;r++)a.push(e.jsx("button",{onClick:()=>i(r),className:`rounded-md px-3 py-1 transition-all duration-200 ${s.page===r?"bg-[#0b8263] text-white":"text-gray-600 hover:bg-teal-50 hover:text-[#0b8263]"}`,children:r},r));return e.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>i(Math.max(1,s.page-1)),disabled:!s.hasPrevPage,className:`rounded-md p-2 ${s.hasPrevPage?"text-[#0b8263] hover:bg-teal-50":"cursor-not-allowed text-gray-400"}`,children:e.jsx(D,{})}),l>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>i(1),className:"rounded-md px-3 py-1 text-gray-600 hover:bg-teal-50 hover:text-[#0b8263]",children:"1"}),l>2&&e.jsx("span",{className:"text-gray-400",children:"..."})]}),a,d<s.totalPages&&e.jsxs(e.Fragment,{children:[d<s.totalPages-1&&e.jsx("span",{className:"text-gray-400",children:"..."}),e.jsx("button",{onClick:()=>i(s.totalPages),className:"rounded-md px-3 py-1 text-gray-600 hover:bg-teal-50 hover:text-[#0b8263]",children:s.totalPages})]}),e.jsx("button",{onClick:()=>i(Math.min(s.totalPages,s.page+1)),disabled:!s.hasNextPage,className:`rounded-md p-2 ${s.hasNextPage?"text-[#0b8263] hover:bg-teal-50":"cursor-not-allowed text-gray-400"}`,children:e.jsx(I,{})})]})};return e.jsx(_,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:e.jsxs("div",{className:"mx-auto max-w-5xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-6 flex flex-col items-center justify-between md:flex-row",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"rounded-lg bg-[#0b8263] p-3 text-white",children:e.jsx(c,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 md:text-3xl",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Stay updated with your latest activities"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:N,className:"rounded-lg bg-teal-50 px-4 py-2 text-sm font-medium text-[#0b8263] transition-colors duration-200 hover:bg-teal-100",disabled:n===0,children:"Mark all as read"}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"rounded-lg border border-gray-200 bg-white px-4 py-2",children:e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[n," unread"]})})})]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Notifications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.total})]}),e.jsx(c,{className:"text-[#0b8263]",size:24})]})}),e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Unread"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:n})]}),e.jsx(j,{className:"text-red-500",size:24})]})}),e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Current Page"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.page})]}),e.jsx(h,{className:"text-blue-500",size:24})]})}),e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Pages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.totalPages})]}),e.jsx(g,{className:"text-[#0b8263]",size:24})]})})]})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-sm",children:p==="loading"?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-b-2 border-[#0b8263]"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading notifications..."})]}):x.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(c,{className:"mx-auto text-gray-400",size:48}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No notifications found"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:x.map(a=>e.jsx("div",{onClick:()=>{a.link&&u(a.link)},className:`p-6 transition-all duration-200 hover:cursor-pointer hover:bg-gray-50 ${a.isRead?"bg-white-50":"border-l-4 border-l-[#0b8263] bg-teal-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"mt-1",children:v(a.type,a.icon)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:a.title}),!a.isRead&&e.jsx(j,{className:"text-[#0b8263]",size:8})]}),e.jsx("p",{className:"mt-1 text-gray-600",children:a.message}),e.jsxs("div",{className:"mt-3 flex flex-col items-center space-x-4 md:flex-row",children:[e.jsx("span",{className:"text-sm text-gray-500",children:$(a.createdAt)}),e.jsx("span",{className:"rounded-full bg-teal-100 px-2 py-1 text-xs text-[#0b8263]",children:a.type})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:!a.isRead&&e.jsx("button",{onClick:()=>b(a._id),className:"rounded bg-teal-50 px-3 py-1 text-xs font-medium text-[#0b8263] transition-colors duration-200 hover:bg-teal-100",children:"Mark as read"})})]})},a._id))})}),s.totalPages>0&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(s.page-1)*s.limit+1," to"," ",Math.min(s.page*s.limit,s.total)," ","of ",s.total," notifications"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Page size:"}),e.jsxs("select",{value:s.limit,onChange:a=>{t(m({page:1,limit:parseInt(a.target.value)}))},className:"rounded-md border border-gray-300 px-3 py-1 text-sm focus:border-transparent focus:ring-2 focus:ring-[#0b8263] focus:outline-none",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:20,children:"20"}),e.jsx("option",{value:50,children:"50"})]})]})]}),f()]})]})})})};export{Y as default};
