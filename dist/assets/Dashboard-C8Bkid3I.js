import{u as p,d as b,a as l,c as j,s as N,j as e,b as y}from"./index-DY_vMsxx.js";import{U as f}from"./UserLayout-DzFdZyvx.js";import{L as v,a as w}from"./index-3AmeRKI-.js";import{w as C}from"./index-C19mZZ1v.js";import"./iconBase-BnsnIT86.js";import"./index-C1cnXVah.js";import"./App-CsXzvAq8.js";const E=()=>{const t=p(),{user:a}=b(s=>s.user),[i,x]=l.useState(null),[m,d]=l.useState(!0),g=j(),n=async()=>{try{d(!0);const s=await y.getVendorDashboard();x(s.data.data)}catch(s){console.error("Error fetching dashboard data:",s)}finally{d(!1)}};if(l.useEffect(()=>{g(N(0)),n()},[]),m)return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-b-2 border-[#0b8263]"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});if(!i)return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Failed to load dashboard data"}),e.jsx("button",{onClick:n,className:"mt-4 rounded-lg bg-[#0b8263] px-4 py-2 text-white",children:"Retry"})]})});const{statistics:r,recentServices:c,recentOrders:o}=i,h=s=>{switch(s){case"verified":return"bg-green-100 text-green-800";case"requested":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},u=s=>{switch(s){case"verified":return"Verified";case"requested":return"Under Verification";case"pending":return"Pending";default:return"Not Started"}};return console.log(a,"user"),e.jsx(f,{children:e.jsxs("div",{className:"font-mont min-h-screen bg-gray-50 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vendor Dashboard"}),e.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",a?.name||"user","!"]})]}),e.jsx("div",{className:"mb-6 rounded-lg bg-[#0b8263] p-4 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Vendor Training Available"}),e.jsx("p",{className:"text-green-100",children:"Learn how to maximize your business on our platform"})]}),e.jsx("button",{className:"rounded-lg bg-white px-4 py-2 font-medium text-[#0b8263] hover:bg-green-50",children:"Start Training"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Vendor Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium",children:a?.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"KYC Status"}),e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${h(a?.kycVerified)}`,children:u(a?.kycVerified)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[e.jsx("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"rounded-lg bg-blue-100 p-3",children:e.jsx(v,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 lg:text-sm",children:"Total Services"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.totalServices})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"rounded-lg bg-yellow-100 p-3",children:e.jsx(w,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 lg:text-sm",children:"Pending Orders"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.pendingOrders})]})]})}),e.jsx("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"rounded-lg bg-green-100 p-3",children:e.jsx(C,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-600 lg:text-sm",children:"Completed Orders"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:r.completedOrders})]})]})})]}),e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recently Created Services"}),e.jsx("button",{onClick:()=>t("/services"),className:"font-medium text-[#0b8263] hover:text-green-700",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:c.length>0?c.map(s=>e.jsxs("div",{onClick:()=>t(`/service/${s._id}`),className:"flex cursor-pointer items-center justify-between rounded-lg border border-gray-200 p-4 transition-colors hover:bg-gray-50",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.serviceName}),e.jsx("p",{className:"text-sm text-gray-600",children:s.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["₹",s.servicePrice]}),e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${s.isApproved==="approved"?"bg-green-100 text-green-800":s.isApproved==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.isApproved})]})]},s._id)):e.jsx("p",{className:"py-4 text-center text-gray-500",children:"No services yet"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Orders"}),e.jsx("button",{onClick:()=>t("/orders"),className:"font-medium text-[#0b8263] hover:text-green-700",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:o.length>0?o.map(s=>e.jsxs("div",{onClick:()=>t("/orders"),className:"cursor-pointer rounded-lg border border-gray-200 p-4 transition-colors hover:bg-gray-50",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:["Order #",s.orderId]}),e.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-1 text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:s.status})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.serviceName}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["₹",s.totalPaidAmount]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleDateString()})]},s._id)):e.jsx("p",{className:"py-4 text-center text-gray-500",children:"No orders yet"})})]}),e.jsxs("div",{className:"rounded-lg bg-white p-6 shadow-sm",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>t("/services?tab=create"),className:"w-full rounded-lg bg-[#0b8263] px-4 py-2 font-medium text-white transition-colors hover:bg-green-700",children:"Add New Service"}),e.jsx("button",{onClick:()=>t("/setting?tab=profile"),className:"w-full rounded-lg border border-[#0b8263] px-4 py-2 font-medium text-[#0b8263] transition-colors hover:bg-green-50",children:"Update Profile"}),a?.kycVerified==="pending"&&e.jsx("button",{onClick:()=>t("/setting?tab=kyc"),className:"w-full rounded-lg bg-yellow-600 px-4 py-2 font-medium text-white transition-colors hover:bg-yellow-700",children:"Complete KYC"})]})]})]})]})]})})};export{E as default};
