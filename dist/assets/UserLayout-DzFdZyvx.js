import{c as g,u as v,d,a as o,G as w,j as e,D as y,E as k,L as m,H as p,s as C,f as j,b as S}from"./index-DY_vMsxx.js";import{V as M,$ as L,a0 as z,A,a1 as E,p as F,a2 as O,K as R}from"./index-C19mZZ1v.js";import{G as N}from"./iconBase-BnsnIT86.js";import{f as B}from"./index-C1cnXVah.js";import{B as I}from"./App-CsXzvAq8.js";function $(a){return N({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(a)}function D(a){return N({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 176v-40a40 40 0 0 0-40-40H88a40 40 0 0 0-40 40v240a40 40 0 0 0 40 40h192a40 40 0 0 0 40-40v-40m64-160 80 80-80 80m-193-80h273"},child:[]}]})(a)}const U="/assets/logo-BQ7WwOqS.png",W="/assets/vendor-D2n89Ezg.png",H=()=>{const a=g(),f=v(),{unreadNotifications:r,unreadCount:n}=d(s=>s.notifications),[x,c]=o.useState(!1),i=o.useRef();o.useEffect(()=>{a(w())},[a]);const l=(s,u)=>{a(k(s))},h=()=>{a(y())};return o.useEffect(()=>{const s=u=>{i.current&&!i.current.contains(u.target)&&c(!1)};return x&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[x]),e.jsxs("div",{className:"relative cursor-pointer",ref:i,children:[e.jsxs("button",{onClick:()=>c(!x),className:"relative p-2 text-gray-600 hover:text-gray-800",children:[e.jsx(M,{className:"text-2xl text-[#0b8266]"}),n>0&&e.jsx("span",{className:"absolute top-0 right-0 inline-flex h-5 w-5 translate-x-1/2 -translate-y-1/2 transform items-center justify-center rounded-full bg-yellow-300 text-xs leading-none font-bold text-black",children:n})]}),x&&e.jsxs("div",{className:"absolute right-0 z-50 mt-2 w-80 overflow-hidden rounded-md bg-white shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 bg-gray-50 p-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Notifications"}),n>0&&e.jsx("button",{onClick:h,className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark all as read"})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?e.jsx("p",{className:"p-4 text-center text-sm text-gray-500",children:"No unread notifications"}):r.map(s=>e.jsxs("div",{className:`border-b border-gray-100 p-3 transition hover:bg-gray-50 ${s.isRead?"":"bg-blue-50"}`,children:[e.jsxs("div",{className:"cursor-pointer",onClick:()=>{s.link&&(f(s.link),c(!1))},children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.title}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:s.message}),e.jsx("p",{className:"mt-2 text-xs text-gray-400",children:new Date(s.createdAt).toLocaleString()})]}),!s.isRead&&e.jsx("button",{className:"mt-2 text-xs font-medium text-blue-600 hover:underline",onClick:u=>{u.stopPropagation(),l(s._id)},children:"Mark as read"})]},s._id))}),e.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-3",children:e.jsx("button",{onClick:()=>{f("/notifications"),c(!1)},className:"w-full text-center text-sm font-medium text-[#0b8266] hover:text-[#0a7155]",children:"View All Notifications"})})]})]})},Q=()=>{const[a,f]=o.useState(!1),[r,n]=o.useState(!1),[x,c]=o.useState(""),i=d(s=>s.user.name);d(s=>s.user.membership);const{user:l}=d(s=>s.user),h=()=>{n(!r)};return e.jsx(e.Fragment,{children:e.jsxs("nav",{className:"sticky top-0 z-50 w-full border-b-2 border-b-[#0b8263] bg-white shadow-md",children:[e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between py-5 pt-4",children:[e.jsxs("div",{className:"flex w-full items-center justify-center gap-4",children:[e.jsx("div",{className:"flex font-bold text-gray-800",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:U,alt:"Logo",className:"h-8 scale-110 md:h-10"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"p-0 text-sm text-[#0b8263] md:text-xl",children:"SooQuick"}),e.jsx("p",{className:"-mt-1 text-[5px] md:text-[8px]",children:"Connecting Services with Convenience."})]})]})}),e.jsx("div",{className:"h-10 w-px bg-[#0b8263]"}),e.jsx("div",{className:"text-xl font-bold text-gray-800",children:e.jsx(m,{to:"/",className:"flex items-center",children:e.jsx("img",{src:W,alt:"Vendor",className:"h-8 md:h-12"})})})]}),e.jsxs("div",{className:"mr-0 flex items-center space-x-4 md:mr-10 md:space-x-8",children:[e.jsx(H,{}),e.jsx(m,{to:"/setting",className:"items-center -space-x-1.5",children:e.jsxs("div",{className:"relative z-10 w-fit",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border-2 border-[#0b8266]",children:l?.profileImage?e.jsx("img",{src:`https://api.sooquick.com${l.profileImage}`,alt:"Profile",className:"h-full w-full rounded-full object-cover"}):e.jsx(L,{className:"text-lg text-[#0b8266]"})}),e.jsx("p",{className:"absolute top-10 -right-5 hidden w-20 truncate text-center text-sm text-nowrap md:block",children:i||"Profile"})]})})]})]})}),r&&e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"bg-opacity-50 absolute inset-0 bg-black opacity-15",onClick:h}),e.jsx("div",{className:`absolute inset-y-0 left-0 flex max-w-full ${r?"translate-x-0":"translate-x-full"} transform transition-transform duration-1000 ease-in-out`,children:e.jsx("div",{className:"relative w-screen max-w-md",children:e.jsxs("div",{className:"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl",children:[e.jsx("div",{className:"px-4 sm:px-6",children:e.jsxs("button",{type:"button",className:"rounded-md text-gray-300 hover:text-white focus:outline-none",onClick:h,children:[e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx($,{className:"h-6 w-6 cursor-pointer text-gray-500"})]})}),e.jsx("div",{className:"relative mt-6 flex-1 px-4 sm:px-6",children:e.jsxs("nav",{className:"flex flex-col space-y-4",children:[e.jsx(m,{to:"/",className:"text-lg font-medium text-gray-900 hover:text-yellow-500",children:"Home"}),e.jsx(m,{to:"/service",className:"text-lg font-medium text-gray-900 hover:text-yellow-500",children:"Services"}),e.jsx(m,{to:"/faq",className:"text-lg font-medium text-gray-900 hover:text-yellow-500",children:"FAQ"}),e.jsx(m,{to:"/about-us",className:"text-lg font-medium text-gray-900 hover:text-yellow-500",children:"About Us"}),e.jsx(m,{to:"/contact",className:"text-lg font-medium text-gray-900 hover:text-yellow-500",children:"Contact Us"})]})})]})})})]})]})})},T=()=>{const a=g(),f=d(t=>t.sidebar.activeTab),r=d(t=>t.user.membership),[n,x]=o.useState(window.innerWidth<768),c=d(t=>t.user.name),i=v(),{sidebarOpen:l}=d(t=>t.sidebar);o.useEffect(()=>{const t=()=>{const b=window.innerWidth<768;x(b),a(b?p(!1):p(!0))};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[]);const h=[{idx:0,title:"Dashboard",path:"/dashboard",icon:e.jsx(E,{})},{idx:1,title:"Service Management",path:"/services",icon:e.jsx(F,{})},{idx:2,title:"Order Management",path:"/orders",icon:e.jsx(O,{})},{idx:3,title:"Wallet",path:"/wallet",icon:e.jsx(R,{})},{idx:4,title:"Support & Help",path:"/support",icon:e.jsx(I,{})}],s=()=>{a(p(!l))},u=async()=>{try{a(j());const t=await S.logout();i("/")}catch(t){a(j()),console.log("error loggin out",t)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed top-4 left-4 z-50 md:hidden",children:e.jsx("button",{onClick:s,className:"flex items-center justify-center rounded-md bg-[#0b8263] p-2 text-white shadow-md",children:l?"✕":"☰"})}),!n&&e.jsx("button",{onClick:s,className:"top-20 left-64 z-30 hidden h-10 w-6 items-center justify-center rounded-r-md bg-[#0b8263] text-white shadow-md transition-all duration-300 md:fixed md:flex",style:{left:l?"16rem":"0"},children:l?e.jsx(B,{className:"text-xl"}):e.jsx(z,{className:"text-xl"})}),l&&n&&e.jsx("div",{className:"bg-opacity-50 fixed inset-0 z-40 bg-black/10 md:hidden",onClick:()=>a(p(!1))}),e.jsx("div",{className:`fixed top-0 left-0 z-40 h-full bg-[#0b8263] text-white transition-all duration-300 ease-in-out md:relative ${l?"w-64 translate-x-0":"w-0 -translate-x-full md:translate-x-0"}`,children:e.jsxs("div",{className:`overflow-hidden transition-all duration-300 ${l?"w-64":"w-0"}`,children:[e.jsx("div",{className:"flex items-center justify-between border-b border-[#0a6f55] p-5",children:e.jsxs("div",{className:"text-xl font-bold",children:[c||"User",e.jsx("p",{className:"text-xs opacity-75",children:"View Profile"})]})}),e.jsxs("nav",{className:"mt-5",children:[e.jsx("ul",{className:"space-y-2 px-3",children:h.map(t=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>{a(C(t.idx)),i(t.path)},className:`flex w-full items-center rounded-lg px-4 py-3 transition ${f===t.idx?"bg-white font-semibold text-[#0b8263]":"text-white hover:bg-[#0a6f55]"}`,children:[e.jsx("span",{className:"mr-3 text-lg",children:t.icon}),e.jsx("span",{className:"whitespace-nowrap",children:t.title})]})},t.idx))}),e.jsx("div",{className:"relative mt-5 px-3",children:e.jsxs("button",{onClick:()=>{if(r?.type?.toLowerCase()!=="None"){i("/membership-info");return}i("/membership"),n&&a(l(!1))},className:"relative w-full overflow-hidden rounded-lg bg-gradient-to-r from-blue-600/30 to-blue-700/30 px-4 py-3 font-bold text-white shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[e.jsx("div",{className:"animate-shimmer absolute inset-0 -skew-x-12 bg-gradient-to-r from-transparent via-blue-400/20 to-transparent"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-center",children:[e.jsx(A,{className:"mr-2 text-white"}),e.jsx("span",{className:"capitalize",children:r&&r.type!=="none"?r.type:"Become Member"})]}),e.jsx("div",{className:"animate-border-shine absolute inset-0 rounded-lg bg-gradient-to-r from-blue-400 via-blue-300 to-blue-400 bg-[length:200%_100%] opacity-70"})]})})]}),e.jsx("div",{className:`absolute bottom-0 w-full border-t border-[#0a6f55] p-4 ${l?"block":"hidden"}`,children:e.jsxs("div",{className:"flex items-center justify-between px-5 hover:cursor-pointer",onClick:u,children:[e.jsx("div",{className:"log",children:"Logout"}),e.jsx(D,{className:"text-2xl"})]})})]})})]})},K=({children:a})=>e.jsxs("div",{className:"font-mont flex h-screen flex-col",children:[e.jsx(Q,{}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx(T,{}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50/35 p-4 md:p-8",children:a})]})]});export{K as U};
