import{d as p,u as j,a as u,j as e,b,y as d}from"./index-D4jZjNgn.js";import{U as N}from"./UserLayout-DyKtNi4q.js";import{N as f,d as y,n as g,k as r,O as v}from"./index-WlWpNLh2.js";import"./iconBase-BYpTOd7S.js";import"./index-CWru-PtX.js";const S=()=>{const{membership:s}=p(a=>a.user),n=j(),[l,i]=u.useState(!1),c=a=>{const m={year:"numeric",month:"long",day:"numeric"};return new Date(a).toLocaleDateString(void 0,m)},t=a=>a?.charAt(0).toUpperCase()+a.slice(1),x=async()=>{try{i(!0),(await b.cancelMembership()).data.success&&(d.success("Membership cancelled successfully"),await dispatch(getUser()))}catch(a){d.error(a.response?.data?.message||"Failed to cancel membership")}finally{i(!1)}},o=()=>{if(!s||!s.purchaseDate)return!1;const a=new Date(s.purchaseDate),h=new Date-a;return Math.floor(h/(1e3*60*60*24))<=7};return e.jsx(N,{children:e.jsxs("div",{className:"mx-auto max-w-4xl p-6",children:[e.jsx("h1",{className:"mb-2 text-3xl font-bold text-gray-900",children:"Your Membership"}),e.jsx("p",{className:"mb-8 text-gray-600",children:"Manage your subscription and view membership details"}),s?e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-md",children:[e.jsx("div",{className:`p-6 text-white ${s.type==="premium"?"bg-gradient-to-r from-teal-600 to-teal-800":s.type==="gold"?"bg-gradient-to-r from-amber-600 to-amber-800":"bg-gradient-to-r from-blue-600 to-blue-800"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-3 text-2xl"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[t(s.type)," Membership"]}),e.jsxs("p",{className:"opacity-90",children:["Active since ",c(s.purchaseDate)]})]})]}),e.jsx("span",{className:`rounded-full px-3 py-1 text-sm font-semibold ${s.status==="active"?"bg-teal-500":"bg-gray-500"}`,children:t(s.status)})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[e.jsxs("h3",{className:"mb-3 flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(y,{className:"mr-2 text-teal-600"}),"Plan Details"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Membership Type"}),e.jsx("span",{className:"font-medium",children:t(s.type)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Purchase Date"}),e.jsx("span",{className:"font-medium",children:c(s.purchaseDate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Expiry Date"}),e.jsx("span",{className:"font-medium",children:c(s.expiryDate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status"}),e.jsx("span",{className:`font-medium ${s.status==="active"?"text-teal-600":"text-red-600"}`,children:t(s.status)})]})]})]}),e.jsxs("div",{className:"rounded-lg bg-gray-50 p-4",children:[e.jsxs("h3",{className:"mb-3 flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(g,{className:"mr-2 text-blue-600"}),"Payment Information"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Amount Paid"}),e.jsxs("span",{className:"font-medium",children:["â‚¹",s.payment.amount]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Mode"}),e.jsx("span",{className:"font-medium",children:t(s.payment.mode)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Transaction ID"}),e.jsx("span",{className:"text-sm font-medium",children:s.payment.transactionId})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Status"}),e.jsx("span",{className:`font-medium ${s.payment.status==="completed"?"text-teal-600":"text-red-600"}`,children:t(s.payment.status)})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"mb-3 flex items-center text-lg font-semibold text-gray-900",children:[e.jsx(r,{className:"mr-2 text-teal-600"}),"Your Membership Benefits"]}),e.jsx("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:s.type==="premium"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{className:"mr-2 text-teal-500"}),e.jsx("span",{children:"Priority Support"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{className:"mr-2 text-teal-500"}),e.jsx("span",{children:"Unlimited Projects"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{className:"mr-2 text-teal-500"}),e.jsx("span",{children:"Advanced Analytics"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{className:"mr-2 text-teal-500"}),e.jsx("span",{children:"Team Collaboration"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{className:"mr-2 text-teal-500"}),e.jsx("span",{children:"API Access"})]})]})})]}),e.jsxs("div",{className:"mt-8 flex flex-wrap gap-4",children:[e.jsx("button",{onClick:()=>n("/membership"),className:"rounded-md bg-teal-600 px-4 py-2 text-white transition-colors hover:bg-teal-700",children:"Upgrade Plan"}),o()&&e.jsx("button",{disabled:l,onClick:x,className:`rounded-md border border-red-500 px-4 py-2 text-red-600 transition-colors hover:bg-red-50 ${l?"cursor-not-allowed opacity-50":""} `,children:l?"Canceling...":"Cancel Membership"})]})]})]}):e.jsxs("div",{className:"rounded-lg bg-white p-8 text-center shadow-md",children:[e.jsx(v,{className:"mx-auto mb-4 text-4xl text-gray-400"}),e.jsx("h2",{className:"mb-2 text-2xl font-bold text-gray-900",children:"No Active Membership"}),e.jsx("p",{className:"mb-6 text-gray-600",children:"You don't have an active membership plan yet."}),e.jsx("button",{onClick:()=>n("/membership"),className:"rounded-md bg-teal-600 px-6 py-3 text-white transition-colors hover:bg-teal-700",children:"Become a Member"})]})]})})};export{S as default};
