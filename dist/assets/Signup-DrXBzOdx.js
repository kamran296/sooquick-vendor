import{u as R,a as l,j as e,L as A,b as M,y as b}from"./index-BPnRbH9C.js";import{a as N,F as w}from"./index-BkypQ2t0.js";import"./iconBase-DLlyO7kK.js";const z=()=>{const c=R(),[s,h]=l.useState({firstName:"",lastName:"",email:"",phone:"",password:"",confirmPassword:"",agreeToTerms:!1}),[r,d]=l.useState({}),[u,g]=l.useState(!1),[x,y]=l.useState(!1),[p,j]=l.useState(!1),[v,C]=l.useState({hasMinLength:!1,hasUpperCase:!1,hasLowerCase:!1,hasNumber:!1,hasSpecialChar:!1}),[P,T]=l.useState(""),S=a=>{C({hasMinLength:a.length>=8,hasUpperCase:/[A-Z]/.test(a),hasLowerCase:/[a-z]/.test(a),hasNumber:/[0-9]/.test(a),hasSpecialChar:/[@$!%*?&]/.test(a)})},f=()=>{const{hasMinLength:a,hasUpperCase:t,hasLowerCase:o,hasNumber:m,hasSpecialChar:q}=v,n=[];return a||n.push("at least 8 characters"),t||n.push("one uppercase letter"),o||n.push("one lowercase letter"),m||n.push("one number"),q||n.push("one special character (@$!%*?&)"),n.length===0?"Password is strong!":`Password must contain: ${n.join(", ")}`},k=()=>{const a={},t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,o=/^91[0-9]{10}$/,m=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;return s.firstName.trim()||(a.firstName="First name is required"),s.lastName.trim()||(a.lastName="Last name is required"),s.email.trim()?t.test(s.email)||(a.email="Please enter a valid email address"):a.email="Email is required",s.phone.trim()?(!o.test(s.phone)||s.phone.length!==12)&&(a.phone="Please enter a valid phone number."):a.phone="Phone number is required",s.password?m.test(s.password)||(a.password=f()):a.password="Password is required",s.password!==s.confirmPassword&&(a.confirmPassword="Passwords do not match"),s.agreeToTerms||(a.agreeToTerms="You must agree to the terms and conditions"),d(a),Object.keys(a).length===0},$=a=>{const{value:t}=a.target,o=t.replace(/\D/g,"");T(t);const m="91"+o.slice(0,10);h({...s,phone:m}),r.phone&&d({...r,phone:""})},i=a=>{const{name:t,value:o}=a.target;if(t==="phone"){$(a);return}h({...s,[t]:o}),t==="password"&&S(o),r[t]&&d({...r,[t]:""})},F=async a=>{if(a.preventDefault(),!!k()){g(!0);try{const t=await M.signup({firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,password:s.password});console.log("response");const o=await t.data;o&&(b.success(o.message||"Verification email sent to user."),c("/"))}catch(t){const o=t.response?.data?.message||t.message||"An error occurred during registration";b.error(o),console.error("Registration error:",t)}finally{g(!1)}}},L=()=>{y(!x)},E=()=>{j(!p)};return e.jsxs("div",{className:"font-mont flex min-h-screen flex-col justify-center bg-gray-50 py-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),e.jsx("div",{className:"mt-8 p-3 sm:mx-auto sm:w-full sm:max-w-md md:max-w-xl",children:e.jsxs("div",{className:"bg-white px-4 py-8 shadow sm:rounded-lg sm:px-10",children:[e.jsxs("form",{className:"space-y-6",onSubmit:F,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",value:s.firstName,onChange:i,className:`block w-full appearance-none border px-3 py-2 ${r.firstName?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 shadow-sm focus:border-green-500 focus:ring-green-500 focus:outline-none sm:text-sm`}),r.firstName&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.firstName})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",value:s.lastName,onChange:i,className:`block w-full appearance-none border px-3 py-2 ${r.lastName?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 shadow-sm focus:border-green-500 focus:ring-green-500 focus:outline-none sm:text-sm`}),r.lastName&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.lastName})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:s.email,onChange:i,className:`block w-full appearance-none border px-3 py-2 ${r.email?"border-red-300":"border-gray-300"} rounded-md placeholder-gray-400 shadow-sm focus:border-green-500 focus:ring-green-500 focus:outline-none sm:text-sm`}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone number"}),e.jsxs("div",{className:"mt-1 flex",children:[e.jsx("div",{className:"flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-50 px-3 py-2",children:e.jsx("span",{className:"text-sm text-gray-500",children:"+91"})}),e.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",placeholder:"Enter 10-digit number",value:P,onChange:i,maxLength:10,className:`block w-full appearance-none border px-3 py-2 ${r.phone?"border-red-300":"border-gray-300"} rounded-r-md placeholder-gray-400 shadow-sm focus:border-green-500 focus:ring-green-500 focus:outline-none sm:text-sm`})]}),r.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"new-password",value:s.password,onChange:i,className:`block w-full appearance-none border px-3 py-2 ${r.password?"border-red-300":"border-gray-300"} rounded-md pr-10 placeholder-gray-400 shadow-sm focus:border-green-500 focus:ring-green-500 focus:outline-none sm:text-sm`}),e.jsx("button",{type:"button",className:"absolute top-0 right-0 flex translate-y-1/2 items-center pr-3",onClick:L,children:x?e.jsx(N,{className:"text-gray-500"}):e.jsx(w,{className:"text-gray-500"})}),r.password?e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.password}):s.password&&e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-gray-600",children:f()})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",autoComplete:"new-password",value:s.confirmPassword,onChange:i,className:`block w-full appearance-none border px-3 py-2 ${r.confirmPassword?"border-red-300":"border-gray-300"} rounded-md pr-10 placeholder-gray-400 shadow-sm focus:border-green-500 focus:ring-green-500 focus:outline-none sm:text-sm`}),e.jsx("button",{type:"button",className:"absolute top-0 right-0 flex translate-y-1/2 items-center pr-3",onClick:E,children:p?e.jsx(N,{className:"text-gray-500"}):e.jsx(w,{className:"text-gray-500"})}),r.confirmPassword&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.confirmPassword})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex h-5 items-center",children:e.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:s.agreeToTerms,onChange:a=>{h({...s,agreeToTerms:a.target.checked}),r.agreeToTerms&&d({...r,agreeToTerms:""})},className:"h-4 w-4 rounded border-gray-300 text-green-600 focus:ring-green-500"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsxs("label",{htmlFor:"agreeToTerms",className:"text-gray-700",children:["I agree to the"," ",e.jsx("button",{type:"button",onClick:()=>c("/terms-conditions"),className:"font-medium text-[#0b8263] underline hover:text-green-700",children:"Terms and Conditions"})," ","and"," ",e.jsx("button",{type:"button",onClick:()=>c("/vendor-policy"),className:"font-medium text-[#0b8263] underline hover:text-green-700",children:"Vendor Policy"})]}),r.agreeToTerms&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.agreeToTerms})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u||!s.agreeToTerms,className:`flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white shadow-sm focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:outline-none ${u||!s.agreeToTerms?"cursor-not-allowed bg-gray-400":"bg-[#0b8263] hover:bg-green-700"}`,children:u?"Registering...":"Register"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Already have an account?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(A,{to:"/",className:"flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:outline-none",children:"Sign in"})})]})]})})]})};export{z as default};
