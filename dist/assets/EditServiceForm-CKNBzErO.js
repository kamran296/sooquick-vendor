import{a as d,j as e,k as xe,b as z,y as j}from"./index-DU0cZsEa.js";import{c as U,d as ue,e as F}from"./index-BFl80oOx.js";const ge=({onServiceAreasChange:h})=>{const[N,V]=d.useState([]),[l,c]=d.useState(!1),[m,A]=d.useState([]),[u,b]=d.useState([]),[T,w]=d.useState(""),[f,M]=d.useState(!1),[R,p]=d.useState(null),y=async a=>{M(!0),p(null);try{const n=await(await xe(`https://api.postalpincode.in/pincode/${a}`)).data;if(console.log("data received",n),n[0].Status==="Success"&&n[0].PostOffice){const x=n[0].PostOffice.map(v=>({pincode:v.Pincode,areaName:v.Name,district:v.District,state:v.State}));A(x),w(a)}else p("No data found for this pincode"),A([])}catch(i){p("Failed to fetch pincode data"),console.error("API Error:",i)}finally{M(!1)}},L=(a,i)=>{a.preventDefault(),i&&i.length===6?y(i):p("Please enter a valid 6-digit pincode")},S=a=>{b(i=>i.some(n=>n.areaName===a.areaName)?i.filter(n=>n.areaName!==a.areaName):[...i,a])},I=()=>{m.length>0&&(u.length===m.length?b([]):b(m))},D=()=>{if(u.length>0){const a=u.map(n=>({pincode:n.pincode,areaName:n.areaName,city:n.district,state:n.state})),i=[...N.filter(n=>!a.some(x=>x.pincode===n.pincode&&x.areaName===n.areaName)),...a];V(i),h&&h(i),b([]),A([]),w(""),p(null)}},O=(a,i)=>{const n=N.filter(x=>!(x.pincode===a&&x.areaName===i));V(n),h&&h(n)},k=()=>{c(!1),A([]),b([]),w(""),p(null)};return e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Service Areas *"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((a,i)=>e.jsxs("div",{className:"mb-2",children:[e.jsxs("span",{className:"inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-medium text-blue-800",children:[a.pincode," - ",a.areaName,e.jsxs("button",{type:"button",onClick:()=>O(a.pincode,a.areaName),className:"ml-1.5 flex h-4 w-4 flex-shrink-0 items-center justify-center rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none",children:[e.jsxs("span",{className:"sr-only",children:["Remove ",a.pincode," - ",a.areaName]}),e.jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:e.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]}),e.jsxs("div",{className:"mt-1 ml-2 text-xs text-gray-600",children:[a.city,", ",a.state]})]},`${a.pincode}-${a.areaName}-${i}`))}),N.length===0&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No service areas selected yet"})]}),e.jsxs("button",{type:"button",onClick:()=>c(!0),className:"inline-flex items-center rounded-md border border-transparent bg-[#0b8263] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:outline-none",children:[e.jsx("svg",{className:"mr-2 -ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),"Add Service Areas"]}),l&&e.jsx("div",{className:"bg-opacity-50 fixed inset-0 z-50 h-full w-full overflow-y-auto bg-gray-600/30",children:e.jsx("div",{className:"relative top-20 mx-auto w-11/12 rounded-md border bg-white p-5 shadow-lg md:w-3/4 lg:w-1/2",children:e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between border-b pb-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Service Areas"}),e.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",name:"pincode",placeholder:"Enter 6-digit pincode",maxLength:"6",value:T,onChange:a=>w(a.target.value.replace(/\D/g,"").slice(0,6)),className:"rounded-l-md border border-r-0 border-gray-300 px-3 py-2 focus:border-teal-500 focus:ring-1 focus:ring-teal-500 focus:outline-none"}),e.jsx("button",{type:"button",onClick:a=>L(a,T),className:"rounded-r-md bg-[#0b8263] px-4 py-2 text-white hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 focus:outline-none",children:"Search"})]}),f&&e.jsx("div",{className:"my-4 text-center",children:e.jsx("p",{children:"Loading pincode data..."})}),R&&e.jsx("div",{className:"my-4 rounded-md bg-red-50 p-4",children:e.jsx("p",{className:"text-red-800",children:R})}),m.length>0&&!f&&e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsxs("h4",{className:"text-md mb-2 font-medium text-gray-700",children:["Select areas for pincode ",T,":"]}),e.jsxs("p",{className:"mb-3 text-sm text-gray-600",children:["Found ",m.length," area(s) for this pincode"]}),m.length>1&&e.jsx("div",{className:"mb-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.length===m.length,onChange:I,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:u.length===m.length?"Deselect all":"Select all areas"})]})}),e.jsx("div",{className:"max-h-60 overflow-y-auto rounded-md border p-2",children:m.map((a,i)=>e.jsx("div",{className:"mb-2",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.some(n=>n.areaName===a.areaName),onChange:()=>S(a),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[a.areaName," (",a.district,", ",a.state,")"]})]})},i))}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{type:"button",onClick:D,disabled:u.length===0,className:"rounded-md bg-[#0b8263] px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:ring-2 focus:ring-teal-500 focus:outline-none disabled:cursor-not-allowed disabled:bg-gray-400",children:["Add ",u.length," Selected Area",u.length!==1?"s":""]})})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:k,className:"rounded-md bg-gray-300 px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-400 focus:ring-2 focus:ring-gray-500 focus:outline-none",children:"Close"})})]})})})]})},fe=({serviceId:h,onSuccess:N,onCancel:V,service:l})=>{const[c,m]=d.useState({serviceName:"",mainCategory:"",category:"",serviceType:"",pricingType:"Fixed",servicePrice:"",availability:"",serviceAreas:[],scopeOfWork:"",workingStartTime:"",workingEndTime:"",workingDays:[]}),[A,u]=d.useState(!0),[b,T]=d.useState(!1),[w,f]=d.useState(""),[M,R]=d.useState(""),p=4,[y,L]=d.useState([]),[S,I]=d.useState([]),[D,O]=d.useState([]),[k,a]=d.useState([]),[i,n]=d.useState(null),[x,v]=d.useState([]),[C,_]=d.useState(null),[P,pe]=d.useState([]),[q,Y]=d.useState(!1),[$,B]=d.useState(!1),[H,G]=d.useState(!1),K=["Repair & Maintenance","Cleaning & Hygiene Services","Fitness & Grooming"],X={"Repair & Maintenance":["Electrician","Plumber","Carpenter","AC Repair","Appliance Repair","Painting","Pest Control","RO Service","Computer Repair","Internet Services"],"Cleaning & Hygiene Services":["Home Cleaning","Sofa Cleaning","Carpet Cleaning","Bathroom Cleaning","Kitchen Cleaning","Office Cleaning","Water Tank Cleaning"],"Fitness & Grooming":["Salon Services","Mehendi Services"]},Q=["Fixed","Per Square Feet","Per Hour","Per Session","Custom"],Z=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];d.useEffect(()=>{l&&(()=>{try{u(!0),m({serviceName:l.serviceName||"",mainCategory:l.mainCategory||"",category:l.category||"",serviceType:l.serviceType||"",pricingType:l.pricingType||"Fixed",servicePrice:l.servicePrice||"",availability:l.availability||"",serviceAreas:l.serviceAreas||[],scopeOfWork:l.scopeOfWork||"",workingStartTime:l.workingStartTime||"",workingEndTime:l.workingEndTime||"",workingDays:l.workingDays||[]}),a(l?.documents?.photos||[]),n(l?.documents?.video?.[0]||null),L(l?.serviceAreas||[]),I([]),O([])}catch(t){f("Failed to initialize service data"),console.error("Error initializing service:",t)}finally{u(!1)}})()},[l]);const ee=s=>{[...y,...S].some(r=>r.pincode===s.pincode)||I(r=>[...r,s])},se=s=>{y.find(r=>r._id===s)&&(O(r=>[...r,s]),L(r=>r.filter(o=>o._id!==s)))},te=s=>{I(t=>t.filter((r,o)=>o!==s))},ae=s=>{const t=l?.serviceAreas?.find(r=>r._id===s);t&&(O(r=>r.filter(o=>o!==s)),L(r=>[...r,t]))},re=s=>{m(t=>({...t,workingDays:t.workingDays.includes(s)?t.workingDays.filter(r=>r!==s):[...t.workingDays,s]}))},g=s=>{const{name:t,value:r}=s.target;m(t==="mainCategory"?o=>({...o,mainCategory:r,category:""}):o=>({...o,[t]:r}))},le=s=>{const t=Array.from(s.target.files),r=p-(k.length-P.length)-x.length;if(t.length>r){j.error(`You can upload only ${r} more images`);return}v(o=>[...o,...t])},ie=s=>{v(t=>t.filter((r,o)=>o!==s))},ne=async s=>{if(l?.documents?.photos?.includes(s)){B(!0);try{const r=await z.deleteServiceImage({serviceId:h,imagePath:s,type:"photo"});a(o=>o.filter(E=>E!==s)),r.data&&r.data.message&&j.success("Image deleted successfully")}catch(r){console.error("Failed to delete image",r),j.error("Failed to delete image"),f("Failed to delete image")}finally{B(!1)}}else v(r=>r.filter(o=>!(o instanceof File&&URL.createObjectURL(o)===s)))},de=async()=>{if(l?.documents?.video?.includes(i)&&i){G(!0);try{const t=await z.deleteServiceImage({serviceId:h,imagePath:i,type:"video"});n(null),t.data&&t.data.message&&j.success("Video deleted successfully")}catch(t){console.error("Failed to delete video",t),j.error("Failed to delete video"),f("Failed to delete video")}finally{G(!1)}}else C&&_(null)},oe=()=>{Y(!1),n(l?.documents?.video?.[0]||null)},J=s=>{s.target.files[0]&&_(s.target.files[0])},ce=()=>{_(null)},me=async s=>{s.preventDefault(),T(!0),f(""),R("");try{const t=new FormData,r={...c,servicePrice:parseInt(c.servicePrice),serviceAreas:[...y,...S]};Object.entries(r).forEach(([E,W])=>{Array.isArray(W)?t.append(E,JSON.stringify(W)):W!=null&&t.append(E,W.toString())}),D.length>0&&t.append("areasToRemove",JSON.stringify(D)),P.length>0&&t.append("imagesToRemove",JSON.stringify(P)),q&&t.append("videoToRemove","true"),x.forEach(E=>{t.append("images",E)}),C&&t.append("video",C);const o=await z.updateService(h,t,{headers:{"Content-Type":"multipart/form-data"}});console.log("Update response:",o.data),o.data.service.isApproved==="pending"?(j.success("Service updated successfully! Your changes require admin approval."),R("Service updated successfully! Your changes require admin approval.")):(j.success("Service updated successfully!"),R("Service updated successfully!")),N&&N(o.data.service)}catch(t){const r=t.response?.data?.message||"Failed to update service";f(r),j.error(r),console.error("Error updating service:",t)}finally{T(!1)}};return A?e.jsx("div",{className:"py-8 text-center",children:"Loading service data..."}):e.jsxs("div",{className:"font-mont mx-auto max-w-4xl rounded-lg bg-white p-6 shadow-md",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-gray-800",children:"Edit Service"}),w&&e.jsx("div",{className:"mb-4 rounded-md bg-red-100 p-3 text-red-700",children:w}),M&&e.jsx("div",{className:"mb-4 rounded-md bg-green-100 p-3 text-green-700",children:M}),l?.isApproved==="rejected"&&l?.rejectionMessage&&e.jsx("div",{className:"mb-4 rounded-md border border-red-200 bg-red-50 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.698-.833-2.464 0L4.232 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800",children:"Service Was Rejected"}),e.jsx("p",{className:"mt-1 text-red-700",children:l.rejectionMessage}),e.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Please address the issues above before resubmitting for approval."})]})]})}),e.jsx("form",{onSubmit:me,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Service Name *"}),e.jsx("input",{type:"text",name:"serviceName",value:c.serviceName,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",required:!0})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Main Category *"}),e.jsxs("select",{name:"mainCategory",value:c.mainCategory,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Main Category"}),K.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Category *"}),e.jsxs("select",{name:"category",value:c.category,onChange:g,disabled:!c.mainCategory,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500 disabled:bg-gray-100",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),c.mainCategory&&X[c.mainCategory]?.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Service Type *"}),e.jsx("input",{type:"text",name:"serviceType",value:c.serviceType,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",placeholder:"e.g., Fan installation/repair, Pipe leakage repair, 1BHK home cleaning",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Describe the specific service you offer"})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Pricing Type"}),e.jsx("select",{name:"pricingType",value:c.pricingType,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",children:Q.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Service Price (₹) *"}),e.jsx("input",{type:"text",name:"servicePrice",value:c.servicePrice,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Availability *"}),e.jsxs("select",{name:"availability",value:c.availability,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Availability"}),e.jsx("option",{value:"Weekdays",children:"Weekdays"}),e.jsx("option",{value:"Weekends",children:"Weekends"}),e.jsx("option",{value:"Anytime",children:"Anytime"}),e.jsx("option",{value:"On Request",children:"On Request"})]})]}),e.jsxs("div",{className:"col-span-2 border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Working Hours"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Working Days"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(s=>e.jsx("button",{type:"button",onClick:()=>re(s),className:`rounded-full px-3 py-1 text-sm font-medium transition-colors ${c.workingDays.includes(s)?"border border-blue-300 bg-blue-100 text-blue-800":"border border-gray-300 bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:s.substring(0,3)},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Start Time"}),e.jsx("input",{type:"time",name:"workingStartTime",value:c.workingStartTime,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"End Time"}),e.jsx("input",{type:"time",name:"workingEndTime",value:c.workingEndTime,onChange:g,className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500"})]})]})]}),e.jsxs("div",{className:"col-span-2 border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Service Areas"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"mb-2 text-sm font-medium text-gray-700",children:"Current Service Areas"}),e.jsx("div",{className:"space-y-2",children:y.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No service areas added"}):y.map(s=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-gray-50 p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.areaName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.pincode," • ",s.city,", ",s.state]})]}),e.jsx("div",{className:"flex gap-2",children:D.includes(s._id)?e.jsxs("button",{type:"button",onClick:()=>ae(s._id),className:"flex items-center gap-1 rounded-md bg-green-100 px-2 py-1 text-xs text-green-800 hover:bg-green-200",children:[e.jsx(U,{className:"text-xs"})," Restore"]}):e.jsxs("button",{type:"button",onClick:()=>se(s._id),className:"flex items-center gap-1 rounded-md bg-red-100 px-2 py-1 text-xs text-red-800 hover:bg-red-200",children:[e.jsx(ue,{className:"text-xs"})," Remove"]})})]},s._id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"mb-2 text-sm font-medium text-gray-700",children:"New Service Areas (To be added)"}),e.jsx("div",{className:"space-y-2",children:S.length===0?e.jsx("p",{className:"text-sm text-gray-500",children:"No new areas added"}):S.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border bg-green-50 p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.areaName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.pincode," • ",s.city,", ",s.state]})]}),e.jsxs("button",{type:"button",onClick:()=>te(t),className:"flex items-center gap-1 rounded-md bg-red-100 px-2 py-1 text-xs text-red-800 hover:bg-red-200",children:[e.jsx(F,{className:"text-xs"})," Remove"]})]},t))})]}),e.jsx("div",{className:"mb-4",children:e.jsx(ge,{onServiceAreasChange:ee,label:"Add New Service Area"})}),e.jsx("div",{className:"rounded-md bg-blue-50 p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Summary:"})," ",y.length," existing area(s), ",S.length," new area(s) to add,"," ",D.length," area(s) to remove"]})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Scope of Work"}),e.jsx("textarea",{name:"scopeOfWork",value:c.scopeOfWork,onChange:g,rows:"3",className:"w-full rounded-md border px-3 py-2 focus:border-teal-500 focus:ring-teal-500",placeholder:"What exactly will you do? Include deliverables, timeline, etc."})]}),e.jsxs("div",{className:"col-span-2 border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Service Images (Max 4)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[k.map((s,t)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`https://api.sooquick.com${s}`,className:"h-32 w-full rounded-md object-cover",alt:"service"}),e.jsx("button",{type:"button",onClick:()=>ne(s),disabled:$,className:"absolute top-1 right-1 rounded-full bg-red-600 px-2 py-1 text-xs text-white disabled:opacity-50",children:e.jsx(F,{className:"text-sm"})}),$&&e.jsx("div",{className:"bg-opacity-50 absolute inset-0 flex items-center justify-center rounded-md bg-black",children:e.jsx("div",{className:"text-white",children:"Deleting..."})})]},t)),x.map((s,t)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:URL.createObjectURL(s),className:"h-32 w-full rounded-md object-cover",alt:"preview"}),e.jsx("button",{type:"button",onClick:()=>ie(t),className:"absolute top-1 right-1 rounded-full bg-red-600 p-1 text-xs text-white",children:e.jsx(F,{className:"text-sm"})}),e.jsx("div",{className:"absolute bottom-1 left-1 rounded-full bg-green-600 px-2 py-0.5 text-xs text-white",children:"New"})]},t)),k.length-P.length+x.length<p&&e.jsxs("label",{className:"flex h-32 cursor-pointer flex-col items-center justify-center rounded-md border-2 border-dashed border-gray-300 text-gray-400 hover:border-teal-500 hover:text-teal-500",children:[e.jsx(U,{className:"text-2xl"}),e.jsx("span",{className:"mt-1 text-xs",children:"Add Image"}),e.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:le,multiple:!0})]})]}),e.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[k.length-P.length," existing image(s),"," ",x.length," new image(s), ",P.length," image(s) to remove"]})]}),e.jsxs("div",{className:"col-span-2 border-t border-gray-200 pt-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-medium text-gray-900",children:"Service Video (Max 1)"}),i&&e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("video",{src:i,controls:!0,className:"w-full rounded-md"}),e.jsx("button",{type:"button",onClick:de,disabled:H,className:"absolute top-2 right-2 rounded-full bg-red-600 p-2 text-white disabled:opacity-50",children:e.jsx(F,{className:"text-sm"})}),H&&e.jsx("div",{className:"bg-opacity-50 absolute inset-0 flex items-center justify-center rounded-md bg-black",children:e.jsx("div",{className:"text-white",children:"Deleting..."})})]}),q&&e.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"text-red-600"}),e.jsx("span",{className:"text-sm text-red-800",children:"Video marked for deletion"})]}),e.jsx("button",{type:"button",onClick:oe,className:"text-sm text-blue-600 hover:text-blue-800",children:"Undo"})]})}),C&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("video",{src:URL.createObjectURL(C),controls:!0,className:"w-full rounded-md"}),e.jsx("button",{type:"button",onClick:ce,className:"absolute top-2 right-2 rounded-full bg-red-600 p-2 text-white",children:e.jsx(F,{className:"text-sm"})})]})}),!i&&!C&&!q&&e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex cursor-pointer flex-col items-center justify-center rounded-md border-2 border-dashed border-gray-300 p-6 text-gray-400 hover:border-teal-500 hover:text-teal-500",children:[e.jsx(U,{className:"text-2xl"}),e.jsx("span",{className:"mt-2",children:"Add Video"}),e.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:J})]})}),q&&!C&&e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex cursor-pointer flex-col items-center justify-center rounded-md border-2 border-dashed border-gray-300 p-6 text-gray-400 hover:border-teal-500 hover:text-teal-500",children:[e.jsx(U,{className:"text-2xl"}),e.jsx("span",{className:"mt-2",children:"Add New Video"}),e.jsx("input",{type:"file",accept:"video/*",hidden:!0,onChange:J})]})})]}),e.jsxs("div",{className:"col-span-2 mt-8 flex justify-end space-x-3 border-t border-gray-200 pt-6",children:[e.jsx("button",{type:"button",onClick:V,className:"rounded-md border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b,className:"rounded-md bg-[#0b8263] px-4 py-2 text-white hover:bg-teal-700 disabled:opacity-50",children:b?"Updating...":"Update Service"})]})]})})]})};export{fe as E,ge as P};
